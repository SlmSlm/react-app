{"version":3,"sources":["api/api.js","assets/images/user.jpg","hoc/withAuthRedirect.js","redux/dialogs-reducer.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","components/Common/FormsControls/FormsControls.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withSuspense.js","redux/app-reducer.js","redux/redux-store.js","App.js","reportWebVitals.js","index.js","assets/images/preloader.svg","components/Common/Preloader/Preloader.js","components/Common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userID","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageText","type","dialogsReducer","action","text","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","restProps","child","Input","createField","placeholder","validators","component","validate","Header","style","header","src","alt","loginBlock","onClick","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","url","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","Navbar","nav","item","activeClassName","active","updateObjectInArray","items","itemID","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","withSuspense","Suspense","fallback","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postID"],"mappings":"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","file":"static/js/main.a144c2fe.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  headers: {\n    \"API-KEY\": \"f8f87f20-4ba6-47e5-9a71-47c76c7aab71\",\n  },\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => response.data);\n  },\n\n  follow(userID) {\n    return instance.post(`follow/${userID}`);\n  },\n\n  unfollow(userID) {\n    return instance.delete(`follow/${userID}`);\n  },\n\n  getProfile(userID) {\n    console.warn(\"Obsolete methog. Use profileApi\");\n    return profileAPI.getProfile(userID);\n  },\n};\n\nexport const profileAPI = {\n  getProfile(userID) {\n    return instance.get(`profile/` + userID);\n  },\n\n  getStatus(userID) {\n    return instance.get(`profile/status/` + userID);\n  },\n\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status });\n  },\n\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile);\n    return instance.put(`profile/photo`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  },\n\n  saveProfile(profile) {\n    return instance.put(`profile`, profile);\n  },\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`);\n  },\n\n  login(email, password, rememberMe = false, captcha = null) {\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n  },\n\n  logout() {\n    return instance.delete(`auth/login`);\n  },\n};\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n      return instance.get(`security/get-captcha-url`);\n  }\n}","export default __webpack_public_path__ + \"static/media/user.6257f558.jpg\";","import React from \"react\";\n// import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\n      return <Component {...this.props} />;\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\n    RedirectComponent\n  );\n\n  return ConnectedAuthRedirectComponent;\n};\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\n\nlet initialState = {\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"How are u?\" },\n    { id: 3, message: \"Yo\" },\n    { id: 4, message: \"Hello\" },\n    { id: 5, message: \"Hola\" },\n    { id: 6, message: \"Guten Morgen!\" },\n  ],\n  dialogs: [\n    { id: 1, name: \"Dima\" },\n    { id: 2, name: \"Andrew\" },\n    { id: 3, name: \"Katya\" },\n    { id: 4, name: \"Dasha\" },\n    { id: 5, name: \"Irka\" },\n    { id: 6, name: \"Sasha\" },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE: {\n      let text = action.newMessageText;\n      return {\n        ...state,\n        messages: [...state.messages, { id: 7, message: text }],\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageText) => ({\n  type: SEND_MESSAGE,\n  newMessageText,\n});\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport styles from \"./FormsControls.module.css\";\n\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\n  const hasError = touched && error;\n  return (\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\n      <div>{children}</div>\n      {hasError && <span>{error}</span>}\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const createField = (\n  placeholder,\n  name,\n  validators,\n  component,\n  props = {},\n  text = \"\"\n) => (\n  <div>\n    <Field\n      placeholder={placeholder}\n      name={name}\n      component={component}\n      validate={validators}\n      {...props}\n    />\n    {text}\n  </div>\n);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport style from \"./Header.module.css\";\n\nconst Header = (props) => {\n  return (\n    <header className={style.header}>\n      <img\n        src=\"https://e7.pngegg.com/pngimages/92/187/png-clipart-logo-company-business-creative-company-logo-free-logo-design-template-company.png\"\n        alt=\"logo\"\n      />\n\n      <div className={style.loginBlock}>\n        {props.isAuth ? (\n          <div>\n            {props.login} <button onClick={props.logout}>Log out</button>\n          </div>\n        ) : (\n          <NavLink to={\"/login\"}>Login</NavLink>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"samurai/network/auth/SET_USER_DATA\";\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n  userID: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (userID, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { userID, email, login, isAuth },\n});\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n  type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await authAPI.me();\n  if (response.data.resultCode === 0) {\n    let { id, login, email } = response.data.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe, captcha);\n  if (response.data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if (response.data.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n  }\n    let message =\n      response.data.messages.length > 0\n        ? response.data.messages[0]\n        : \"Common error\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  const response = await securityAPI.getCaptchaUrl();\n  const captchaUrl = response.data.url;\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport const logout = () => async (dispatch) => {\n  let response = await authAPI.logout();\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../Common/FormsControls/FormsControls\";\nimport { login } from \"../../redux/auth-reducer\";\nimport { Redirect } from \"react-router-dom\";\nimport styles from \"../Common/FormsControls/FormsControls.module.css\";\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"Email\", \"email\", [required], Input)}\n      {createField(\"Password\", \"password\", [required], Input, {\n        type: \"password\",\n      })}\n      {createField(\n        null,\n        \"rememberMe\",\n        [],\n        Input,\n        { type: \"checkbox\" },\n        \"Remember me\"\n      )}\n\n      { captchaUrl && <img src={captchaUrl} alt={\"captcha\"}/>}\n      { captchaUrl &&  createField(\"Symbols from image\", \"captcha\", [required], Input, {}) }\n      {error && <div className={styles.formSummaryError}>{error}</div>}\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n  };\n\n  if (props.isAuth) {\n    return <Redirect to={\"/profile\"} />;\n  }\n  return (\n    <div>\n      <h1>LOGIN</h1>\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  captchaUrl: state.auth.captchaUrl,\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n","import React from \"react\";\nimport style from \"./Navbar.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className={style.nav}>\n      <div className={style.item}>\n        <NavLink to=\"/profile\" activeClassName={style.active}>Profile</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/dialogs\" activeClassName={style.active}>Messages</NavLink>\n      </div> \n      <div className={style.item}>\n        <NavLink to=\"/users\" activeClassName={style.active}>Users</NavLink>\n      </div> \n      <div className={style.item}>\n        <NavLink to=\"/news\">News</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/music\">Music</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/settings\">Settings</NavLink>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","export const updateObjectInArray = (\n  items,\n  itemID,\n  objPropName,\n  newObjProps\n) => {\n  return items.map((u) => {\n    if (u[objPropName] === itemID) {\n      return { ...u, newObjProps };\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userID, \"id\", {\n          followed: true,\n        }),\n      };\n\n    case UNFOLLOW:\n      debugger;\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userID, \"id\", {\n          followed: false,\n        }),\n      };\n\n    case SET_USERS: {\n      return { ...state, users: action.users };\n    }\n\n    case SET_CURRENT_PAGE: {\n      return { ...state, currentPage: action.currentPage };\n    }\n\n    case SET_TOTAL_USERS_COUNT: {\n      return { ...state, totalUsersCount: action.count };\n    }\n\n    case TOGGLE_IS_FETCHING: {\n      return { ...state, isFetching: action.isFetching };\n    }\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userID]\n          : state.followingInProgress.filter((id) => id !== action.userID),\n      };\n    }\n\n    default:\n      return state;\n  }\n};\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID });\n\nexport const unfollowSuccess = (userID) => ({ type: UNFOLLOW, userID });\n\nexport const setUsers = (users) => ({ type: SET_USERS, users });\n\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\n\nexport const setTotalUsersCount = (totalUsersCount) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  count: totalUsersCount,\n});\n\nexport const toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\n\nexport const toggleFollowingProgress = (isFetching, userID) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFetching,\n  userID,\n});\n\nexport const requestUsers = (page, pageSize) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    let data = await usersAPI.getUsers(page, pageSize);\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n  };\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userID,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true, userID));\n\n  let response = await apiMethod(userID);\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userID));\n  }\n  dispatch(toggleFollowingProgress(false, userID));\n};\n\nexport const follow = (userID) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userID,\n      usersAPI.follow.bind(usersAPI),\n      followSuccess\n    );\n  };\n};\n\nexport const unfollow = (userID) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userID,\n      usersAPI.unfollow.bind(usersAPI),\n      unfollowSuccess\n    );\n  };\n};\n\nexport default usersReducer;\n","import React, { useState } from \"react\";\nimport styles from \"./Paginator.module.css\";\nimport cn from \"classnames\";\n\nlet Paginator = ({\n  totalItemsCount,\n  pageSize,\n  currentPage,\n  onPageChanged,\n  portionSize = 10,\n}) => {\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={styles.paginator}>\n      {portionNumber > 1 && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          PREV\n        </button>\n      )}\n\n      {pages\n        .filter(\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\n        )\n        .map((p) => {\n          return (\n            <span\n              className={cn(\n                {\n                  [styles.selectedPage]: currentPage === p,\n                },\n                styles.pageNumber\n              )}\n              key={p}\n              onClick={(e) => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          NEXT\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/user.jpg\";\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({ user, followingInProgress, follow, unfollow }) => {\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={\"/profile/\" + user.id}>\n            <img\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              alt=\"ava\"\n              className={styles.userPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          <div>{\"u.location.country\"}</div>\n          <div>{\"u.location.city\"}</div>\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport Paginator from \"../Common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({\n  currentPage,\n  onPageChanged,\n  totalUsersCount,\n  pageSize,\n  users,\n  ...props\n}) => {\n  return (\n    <div>\n      <Paginator\n        currentPage={currentPage}\n        onPageChanged={onPageChanged}\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n      />\n      <div>\n        {users.map((u) => (\n          <User\n            user={u}\n            followingInProgress={props.followingInProgress}\n            key={u.id}\n            follow={props.follow}\n            unfollow={props.unfollow}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Users;\n","export const getUsers = (state) => {\n  return state.usersPage.users;\n};\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress;\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  requestUsers,\n} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../Common/Preloader/Preloader\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport {\n  getCurrentPage,\n  getFollowingInProgress,\n  getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n  getUsers,\n} from \"../../redux/users-selectors\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    const { currentPage, pageSize } = this.props;\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = (pageNumber) => {\n    const { pageSize } = this.props;\n    this.props.getUsers(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          onPageChanged={this.onPageChanged}\n          users={this.props.users}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          followingInProgress={this.props.followingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  };\n};\n\nexport default compose(\n  withAuthRedirect,\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    toggleFollowingProgress,\n    getUsers: requestUsers,\n  })\n)(UsersContainer);\n","import React from \"react\";\nimport Preloader from \"../components/Common/Preloader/Preloader\";\n\nexport const withSuspense = (Component) => {\n  return (props) => {\n    return (\n      <React.Suspense fallback={<Preloader />}>\n        <Component {...props} />\n      </React.Suspense>\n    );\n  };\n};\n","import { getAuthUserData } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","import profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport { applyMiddleware, createStore, combineReducers, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\nexport default store;\n","import React, { Component } from \"react\";\nimport { connect, Provider } from \"react-redux\";\nimport { HashRouter, Route, withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport \"./App.css\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { withSuspense } from \"./hoc/withSuspense\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport store from \"./redux/redux-store\";\n\n\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\n\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/profile/:userID?\"\n            render={withSuspense(ProfileContainer)}\n          />\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <LoginPage />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nconst SamuraiJSApp = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default SamuraiJSApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./index.css\";\nimport SamuraiJSApp from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from \"react\";\nimport preloader from \"../../../assets/images/preloader.svg\";\n\nlet Preloader = (props) => {\n  return <img src={preloader} alt=\"preloader \" />;\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__ajVyF\",\"error\":\"FormsControls_error__35B8G\",\"formSummaryError\":\"FormsControls_formSummaryError__3e7lO\"};","export const required = (value) => {\n  if (value) return undefined;\n\n  return \"Field is required\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n\n  return undefined;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__gf1QN\",\"pageNumber\":\"Paginator_pageNumber__3NPqB\",\"selectedPage\":\"Paginator_selectedPage__x7UOB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst DELETE_POST = \"DELETE_POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Hi, how are u?\", likesCount: 0 },\n    { id: 2, message: \"Hi, it`s my first post\", likesCount: 23 },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0,\n      };\n      return {\n        ...state,\n        posts: [newPost, ...state.posts],\n      };\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postID),\n      };\n\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile };\n    }\n\n    case SET_STATUS: {\n      return { ...state, status: action.status };\n    }\n\n    case SAVE_PHOTO_SUCCESS: {\n      return { ...state, profile: { ...state.profile, photos: action.photos } };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = newPostText => ({\n  type: ADD_POST,\n  newPostText,\n});\nexport const deletePost = postID => ({\n  type: DELETE_POST,\n  postID,\n});\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status,\n});\nexport const savePhotoSuccess = photos => ({\n  type: SAVE_PHOTO_SUCCESS,\n  photos,\n});\n\nexport const getUserProfile = userID => async dispatch => {\n  let response = await usersAPI.getProfile(userID);\n  dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = userID => async dispatch => {\n  let response = await profileAPI.getStatus(userID);\n  dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = status => async dispatch => {\n  let response = await profileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport const savePhoto = file => async dispatch => {\n  let response = await profileAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n};\n\nexport const saveProfile = profile => async (dispatch, getState) => {\n  const userID = getState().auth.userID;\n  const response = await profileAPI.saveProfile(profile);\n  if (response.data.resultCode === 0) {\n    dispatch(getUserProfile(userID));\n  } else {\n    dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\n    return Promise.reject(response.data.messages[0])\n}\n};\n\nexport default profileReducer;\n"],"sourceRoot":""}